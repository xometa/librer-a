@page
@model RosaMaríaBookstore.Pages.Queries.Sales.SalesQueryModel;
@using RosaMaríaBookstore.Models;
@{ ViewData["Title"] = "Librería | Listado de ventas"; }

<!-- start page title -->
<div class="row">
    <div class="col-12">
        <div class="page-title-box">
            <div class="page-title-right">
                <ol class="breadcrumb m-0">
                    <li class="breadcrumb-item"><a href="javascript: void(0);">Librería</a></li>
                    <li class="breadcrumb-item"><a href="javascript: void(0);">Página</a></li>
                    <li class="breadcrumb-item active">Consulta de ventas</li>
                </ol>
            </div>
            <h4 class="page-title">Consulta de ventas</h4>
        </div>
    </div>
</div>
<!-- end page title -->

<div class="row">
    <div class="col-md-12">
        <div class="card">
            <div class="card-body">
                <div class="row">
                    <h4 class="header-title col-md-12 mt-2 mb-2">Filtros de la consulta</h4> 
                    <div class="col-lg-12">
                        <div class="row">
                            @*filter*@
                            <div class="col-lg-2">
                                <div class="form-group px-3">
                                    <label class="font-weight-bold">Ver registros</label>
                                    <div class="input-group">
                                        <div class="input-group-prepend">
                                            <div class="input-group-text">
                                                <span class="uil-server"></span>
                                            </div>
                                        </div>
                                        <select id="showQuantity" class="form-control">
                                            <option value="6" selected>6</option>
                                            <option value="12">12</option>
                                            <option value="18">18</option>
                                            <option value="24">24</option>
                                            <option value="30">30</option>
                                            <option value="50">50</option>
                                            <option value="100">100</option>
                                        </select>
                                    </div>
                                </div>
                            </div> 
                            <div class="col-lg-4">
                                <div class="form-group px-3">
                                    <label class="font-weight-bold">Cliente</label>
                                    <div class="input-group">
                                        <div class="input-group-prepend">
                                            <div class="input-group-text">
                                                <span class="uil-user-square"></span>
                                            </div>
                                        </div>
                                        <select class="custom-select form-control" id="idclient" name="idclient">
                                            <option value="">--- Seleccione un cliente ---</option>
                                            @foreach (var p in Model.ClientsList)
                                            {
                                                if (p.Nombre.Equals("Público general") && p.Apellido.Equals("Público general") &&
                                                    String.IsNullOrEmpty(p.Dui))
                                                {
                                                    <option value="@p.Id">@p.Nombre</option>
                                                }else{
                                                    <option value="@p.Id">@p.Fullname()</option>
                                                }
                                            }
                                            @foreach (var i in Model.InstitutionsList)
                                            {
                                                <option value="@i.Idrepresentante">@i.Nombre / @i.IdrepresentanteNavigation.Fullname() </option>
                                            }
                                        </select>
                                    </div>
                                </div>
                            </div>                            
                            <div class="col-lg-2">
                                <div class="form-group px-3">
                                    <label class="font-weight-bold">Fecha</label>
                                    <div class="input-group">
                                        <div class="input-group-prepend">
                                            <div class="input-group-text">
                                                <span class="mdi mdi-calendar-month"></span>
                                            </div>
                                        </div>
                                        <input type="date" class="form-control" id="date" name="date">
                                    </div>
                                </div>
                            </div>
                            <div class="col-lg-2">
                                <div class="form-group px-3">
                                    <label class="font-weight-bold">Tipo de venta</label>
                                    <div class="input-group">
                                        <div class="input-group-prepend">
                                            <div class="input-group-text">
                                                <span class="uil-info-circle"></span>
                                            </div>
                                        </div>
                                        <select class="custom-select form-control" id="typeSale" name="typeSale">
                                            <option value="">--- Seleccione un tipo ---</option>
                                            <option value="Contado">Contado</option>
                                            <option value="Crédito">Crédito</option>
                                        </select>
                                    </div>
                                </div>
                            </div>                                    
                            <div class="col-lg-2 text-center">
                                <div class="form-group px-3 pt-3">
                                    <button type="submit" class="btn btn-dark font-weight-bold btn-rounded" id="btnfilter"><i class="uil-search"></i> Buscar</button>
                                </div>
                            </div>
                            @*end filter*@                            
                        </div>
                    </div>
                    <div class="py-2 col-lg-12">
                        <div class="row" id="shoppings-list">
                            <!-- home sales list -->
                            <div class="col-lg-12">
                                <div class="accordion custom-accordion pointer" id="custom-accordion-one">
                                    
                                </div>
                            </div> <!-- end col-->
                            <!-- end sales list-->
                        </div><!-- end row-->
                    </div><!-- end col-->
                </div><!-- end row-->
            </div><!-- end car-body-->
            <div class="card-footer">
                <div class="row" id="create-pagination">
                </div><!-- end row-->
            </div><!-- end car-footer-->
        </div><!-- end card-->
    </div><!-- end col-->
</div><!-- end row-->

@section Scripts{
<script src="~/assets/js/pages/demo.toastr.js"></script>
<script src="~/js/queries/salesquery.js"></script>
}